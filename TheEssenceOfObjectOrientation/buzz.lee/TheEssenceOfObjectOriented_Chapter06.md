## 기능 설계 vs 구조 설계

- 설계의 두 가지 측면
  - 기능 (Function)
    - 제품이 사용자를 위하여 '무엇을 할 수 있는 지'
  - 구조 (Structure)
    - 제품의 '형태가 어떠해야 하는 지'
- 설계는 기능과 구조의 측면을 조화를 이루도록 해야한다.
  - 사용자가 무엇을 원하는 가, 이를 위하여 시스템이 어떤 기능을 제공해야 하는가
  - 좋은 구조는 확장 가능한(변동사항에 유동적으로 대응이 가능한 ) 소프트웨어가 될 수 있도록 한다.
- 변경을 수용할 수 있는 선택의 여지를 설계에 마련해 놓아라.
  - 자주 변경되는 기능이 아닌 **안정적인 구조를 중심으로 설계**하라.
  - 객체의 구조에 집중하고 기능이 객체의 구조를 따르게 한다.

## 두 가지 재료: 기능과 구조

- 구조는 도메인에 관해 생각하는** 개념과 개념들 간의 관계**로 표현
  - Domain 모델링
- 기능은 **책임을 수행하는 시스템의 행위**로 표현
  - UseCase 모델링

## 안정적인 재료: 구조

### 도메인 모델

- 도메인 모델 = 도메인 + 모델
  - 도메인
    - 사용자가 프로그램을 사용하는 대상 분야
  - 모델
    - 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태
    - 대상을 추상화하고 단수화한 것
    - 복잡성을 관리하기 위하여 사용하는 기본 도구
- 사용자가 프로그램을 사용하는 대상 영역에 관한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태
- 소프트웨어가 목적하는 영역 내의 개념과 개념간의 관계, 다양한 규칙이나 제약 등을 주의 깊게 추상화한 것
- 이해 관계자들이 바라보는 멘탈 모델이다.
  - 멘탈 모델
    - 사람들이 상호작용하는 사물들에 대하여 갖는 모형
    - 구분
      - 사용자 모델 : 사용자가 제품에 대해 가지고 있는 개념
      - 디자인 모델 : 설계자가 마음 속에 갖고 있는 시스템에 대한 개념화
      - 시스템 이미지 : 체종 제품
- 객체 지향을 이용하면 도메인에 대한  사용자 모델, 디자인 모델, 시스템 이미지가 모두 유사하도록할 수 있다.
  - **연결완전성**
  - **표현적 차이**
- 도메인 모델은 소프트웨어 구조의 기반을 이룬다.

### 표현적 차이

-  표현적 차이 (의미적 차이)
  - 소프트웨어 객체가 현실 객체를 왜곡한다고 하더라도 현실 객체의 특성을 토대로 구축되는 것
- **도메인 모델이 은유의 대상**이다.
  - 도메인 객체를 은유한다.

## 불안정한 재료 : 기능

### 유즈케이스

- 기능적 요구사항 : 시스템이 사용자에게 제공해야 하는 기능의 목록
- 사용자는 목표를 달성하기 위하여 시스템과 상호작용한다.
  1. 사용자 --request→ 시스템
  2. 시스템 --response, result→ 사용자
  3. 1 ~ 2 단계 반복
- 유즈케이스
  - 사용자의 목표를 달성하기 위하여 사용자와 시스템 간에 이루어지는 **상호작용의 흐름을 텍스트로 정리**한 것
  - 여러 시나리오의 집합이다.
    - 시나리오는 '유즈케이스 인스턴스'라고도 한다.
  - 사용자 인터페이스와 관련된 세부 정보를 포함하지 않는다.
  - 내부 설계와 관련된 정보를 포함하지 않는다.

[Structuring Use Cases with Goals, Cockburn](http://www.cs.otago.ac.nz/coursework/cosc461/usecases.htm)

## 기능과 구조의 통합

- 시스템에 할당된 책임을 작은 규모의 책임으로 세분화된다.
- 이 때, 도메인 모델에 포함된 개념을 은유하는 소프트웨어 객체를 선택하고 책임을 할당한다.
- 유스케이스는 사용자에게 제공할 **기능을 시스템의 책임**으로 보게한다.
- 도메인 모델은 기능을 수용하기 위해 **은유할 수 있는 안정적인 구조**를 제공
  - 도메인 모델에 명시된 개념을 스스로 상태와 행위를 관리하는 자율적인 객체로 간주한다.
- **객체명**은 **도메인 모델에 포함된 개념**으로 차용한다.
- **책임**은 **도메인 모델에 정의한 개념의 정의**에 부합하도록 할당한다.
- 책임을 수행하는 데 **필요한 정보를 가진** 객체에게 그 **책임을 할당**한다.

### 기능 변경을 흡수하는 안정적인 구조

- 도메인 모델을 구성하는 개념은 비즈니스가 없어지거나 완전히 개편되지 않는 한 **안정적으로 유지**된다.
- 도메인 모델을 구성하는 **개념 간의 관계는 비즈니스 규칙을 기반**으로 한다.

